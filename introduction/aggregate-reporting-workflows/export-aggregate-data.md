# Export Aggregate Data

 This workflow enables aggregate data to be generated and exported to another system.  This is useful for exporting routine reporting data to an upstream HMIS system for high-level reporting.

<table>
  <thead>
    <tr>
      <th style="text-align:left"><b>Workflow Maturity</b>
      </th>
      <th style="text-align:left">
        <p>
          <img src="https://lh3.googleusercontent.com/EmXfy3cb-GlHlYFa4D8Gu0LggwvjRH5_9E93s2xHn_8me7Uh-F_9ueZtnTAL4nzP5Lqaq312bDxQD-anCV28fku333MOHZfS-MmEOw271EPVY1H-Q2JFz-LPB-bfw2FRiw"
          alt/>
        </p>
        <p><b>  Maturing</b>
        </p>
      </th>
      <th style="text-align:left">
        <p></p>
        <ul>
          <li>Workflow is defined and ARB approved</li>
          <li>Workflow is supported by the IHE ADX profile</li>
        </ul>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left">Standards*</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">ADX for structuring aggregate data - <a href="http://www.ihe.net/uploadedFiles/Documents/QRPH/IHE_QRPH_Suppl_ADX_Rev1.0_PC_2015-05-29.pdf">http://www.ihe.net/uploadedFiles/Documents/QRPH/IHE_QRPH_Suppl_ADX_Rev1.0_PC_2015-05-29.pdf</a>
      </td>
    </tr>
    <tr>
      <td style="text-align:left">Assumptions and Prerequisites</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">The External HMIS and the HMIS inside the OpenHIE infrastructure must
        use the same metadata (indicators, disaggregates and facilities) or there
        must be translation steps added.</td>
    </tr>
    <tr>
      <td style="text-align:left">Actors</td>
      <td style="text-align:left"></td>
      <td style="text-align:left">
        <p><b>Receiver</b>
        </p>
        <ul>
          <li>HMIS- The system that will be receiving aggregate data. Examples of this
            system could be an external HMIS system or an HIE.</li>
        </ul>
        <p><b>Sender </b>
        </p>
        <ul>
          <li>IOL - The Interoperability Layer (IOL) is the component that enables easier
            interoperability between disparate information systems by connecting the
            infrastructure services and client applications together. An interoperability
            layer receives transactions from the point of service systems and coordinates
            interaction between components of the HIE and provides common core functions
            to simplify the interoperability between systems.</li>
          <li>HMIS - The system that produces the aggregate data to be exported.</li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

## Interaction Description 

![](https://lh6.googleusercontent.com/7fYXfy0Bto7jB5CzWZblmaa68M2fF8sQnYLvtNF5aZkgHDCUsZ0F9OWQKOAhf-8Jvsra2CzG2ZEvJ4MjZK_cnIclU-MfHfw1Qurs1VohPzZGse7BXG_FnUCDhwm1U7AcAg)

<table>
  <thead>
    <tr>
      <th style="text-align:left">#</th>
      <th style="text-align:left"><b>Interaction</b>
      </th>
      <th style="text-align:left"><b>Data / Note</b>
      </th>
      <th style="text-align:left"><b>Transaction Standards</b>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left">1</td>
      <td style="text-align:left">Initiate the transaction, aggregate months into quarters as necessary
        and create the aggregate data message.</td>
      <td style="text-align:left">ADX - Aggregate Data generated by the HMIS.</td>
      <td style="text-align:left">ADX</td>
    </tr>
    <tr>
      <td style="text-align:left">2</td>
      <td style="text-align:left">Export the Aggregate Data Message to the IL</td>
      <td style="text-align:left">ADX - Aggregate Data generated by the HMIS.</td>
      <td style="text-align:left">ADX</td>
    </tr>
    <tr>
      <td style="text-align:left">3</td>
      <td style="text-align:left">Map site codes (optional if site / facility codes are aligned between
        the two systems)</td>
      <td style="text-align:left">Mapping Mediator uses a CSD transaction to determine if there are local
        site codes that need to be translated to the Global site codes. If so,
        they are translated.</td>
      <td style="text-align:left">CSD</td>
    </tr>
    <tr>
      <td style="text-align:left">4</td>
      <td style="text-align:left">Update the ADX message with the receiver&apos;s site codes</td>
      <td style="text-align:left">Update the ADX message with receiver&apos;s site codes.</td>
      <td style="text-align:left"></td>
    </tr>
    <tr>
      <td style="text-align:left">5</td>
      <td style="text-align:left">Return processing response</td>
      <td style="text-align:left">
        <p>The External system will process the aggregate data message and respond
          with information about the records processed and/or provide a description
          of errors.</p>
        <p>May contain error messages and/or confirmation of successful processing.</p>
      </td>
      <td style="text-align:left"></td>
    </tr>
    <tr>
      <td style="text-align:left">6</td>
      <td style="text-align:left">Log the processing response</td>
      <td style="text-align:left"></td>
      <td style="text-align:left"></td>
    </tr>
    <tr>
      <td style="text-align:left">7</td>
      <td style="text-align:left">Forward aggregate data processing response</td>
      <td style="text-align:left"></td>
      <td style="text-align:left"></td>
    </tr>
    <tr>
      <td style="text-align:left">8</td>
      <td style="text-align:left">Process the response</td>
      <td style="text-align:left">This step can be different for different implementations. The HMIS can
        be used to inform the user via an interface or a message. The response
        will contain error messages or provide information about the successful
        processing of the message.</td>
      <td style="text-align:left"></td>
    </tr>
  </tbody>
</table>

## 

